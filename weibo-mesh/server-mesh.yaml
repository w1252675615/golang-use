#config fo agent
motan-agent:
  port: 9981
  mport: 8002
  log_dir: "./server-mesh-logs"
  snapshot_dir: "./snapshot"
  registry: "direct-registry"
  application: "server-mesh" #请求来源，用于在监控中标识请求的业务方，请各业务方务必修改成自己的标识，类似 APP_NAME

#config of registries
motan-registry:
  direct-registry: # registry id 
    protocol: direct   # registry type. will get instance from extFactory.
    host: 127.0.0.1 # direct server ip in single ip. if has host, address will disable. 
    port: 8100 # use server direct



#conf of basic service
motan-basicService:
  test-mesh-basicService: # basic refer id
    group: motan-demo-rpc # group name
    protocol: motan2 # rpc protocol
    registry: "direct-registry" # registry id
    filter: "accessLog" # filter registed in extFactory
    serialization: simple
    nodeType: server

#conf of services
motan-service:
  mytest-motan2:
    path: com.weibo.HelloWorldService
    ref : "main.HelloWorldService"
    export: "motan2:9100"
    proxy: "motan2:8100"
    basicRefer: test-mesh-basicService
    

#conf of extentions
metrics:
  period: 5
  graphite:
    - name: weibo-graphite
      host: hostof.graphite
      port: 8333